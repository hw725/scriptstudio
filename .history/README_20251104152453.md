# ScriptStudio 📝

> **오프라인 우선 노트 작성 앱** - 언제 어디서나 작동하는 완벽한 하이브리드 모드

ScriptStudio는 전문 작가와 연구자를 위한 강력한 노트 작성 도구입니다.  
**오프라인에서도 모든 기능이 작동**하며, 온라인 시 자동으로 동기화됩니다.

---

## ✨ 주요 기능

### 📱 오프라인 우선 (Offline-First)
- ✅ 인터넷 없이 모든 기능 사용 가능
- ✅ 로컬 IndexedDB에 안전하게 저장
- ✅ 온라인 복귀 시 자동 동기화

### 🔄 하이브리드 모드
- ✅ **오프라인 모드**: 100% 로컬 전용
- ✅ **온라인 모드**: Supabase 백엔드 + 로컬 캐싱
- ✅ 실시간 모드 전환 (콘솔에서 즉시)

### 📝 강력한 에디터
- Rich Text Editor (TipTap)
- Markdown 지원
- 코드 하이라이팅
- 이미지, 링크, 테이블

### 🗂️ 프로젝트 관리
- 프로젝트, 폴더, 노트 계층 구조
- 태그 시스템
- 전체 텍스트 검색
- 버전 관리

### 📚 참고문헌 관리
- 자동 인용 생성
- 여러 인용 스타일 지원
- Backlinks (양방향 링크)

---

## 🚀 빠른 시작

### 1. 설치

```bash
git clone https://github.com/your-username/scriptstudio.git
cd scriptstudio
npm install
```

### 2. 오프라인 모드 (바로 시작)

```bash
npm run dev
```

http://localhost:5173 접속 → 바로 사용!

### 3. 온라인 모드 (Supabase 연결)

**5분 안에 설정 가능!** 👉 [QUICK_START.md](./QUICK_START.md) 참조

```bash
# .env.local 파일 수정
VITE_SUPABASE_URL=https://xxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
VITE_OFFLINE_MODE=false

# 서버 재시작
npm run dev
```

---

## 📖 문서

| 문서 | 설명 |
|------|------|
| [QUICK_START.md](./QUICK_START.md) | ⚡ 5분 안에 온라인 모드 설정하기 |
| [HYBRID_MODE_GUIDE.md](./HYBRID_MODE_GUIDE.md) | 🔄 완벽한 하이브리드 모드 가이드 |
| [INTEGRATION_TEST_GUIDE.md](./INTEGRATION_TEST_GUIDE.md) | ✅ 통합 테스트 가이드 |
| [supabase-schema.sql](./supabase-schema.sql) | 🗄️ Supabase 데이터베이스 스키마 |

---

## 🔧 환경 변수

```bash
# Supabase 설정 (온라인 모드 사용 시 필수)
VITE_SUPABASE_URL=https://xxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key

# 모드 설정
VITE_OFFLINE_MODE=false  # false: 온라인, true: 오프라인
```

---

## 🎯 사용 예시

### 오프라인 작업

```javascript
// 인터넷 연결 없이도 작동
1. 프로젝트 생성
2. 노트 작성
3. 로컬에 자동 저장
4. 나중에 온라인 시 동기화
```

### 온라인 작업

```javascript
// Supabase와 실시간 동기화
1. 노트 작성
2. 즉시 서버에 저장
3. 다른 기기에서도 접근 가능
4. 오프라인 시 로컬 캐시 사용
```

### 모드 전환 (런타임)

```javascript
// 브라우저 콘솔에서
window.__scriptstudio_offline_set(true)  // 오프라인 모드
window.__scriptstudio_offline_set(false) // 온라인 모드
```

---

## 🏗️ 기술 스택

- **Frontend**: React 18 + Vite
- **UI**: Tailwind CSS + shadcn/ui
- **Editor**: TipTap (Rich Text)
- **Backend**: Supabase (PostgreSQL)
- **Local DB**: IndexedDB (idb)
- **Offline**: Custom Offline-First Architecture

---

## 📊 아키텍처

```
┌─────────────────┐
│   React App     │
└────────┬────────┘
         │
    ┌────▼─────┐
    │ Client   │  ◄── base44Client.js (Mode Selector)
    └────┬─────┘
         │
    ┌────▼──────────────┐
    │ Offline Wrapper   │  ◄── offlineWrapper.js
    └────┬──────────────┘
         │
    ┌────▼────┬─────────┐
    │         │         │
┌───▼───┐ ┌──▼─────┐   │
│ Local │ │ Remote │   │  
│ DB    │ │ (Supabase)│   
└───────┘ └────────┘   
```

---

## 🧪 테스트

### 기본 테스트

```bash
npm run dev
# 브라우저에서 test-checklist.html 열기
```

### 전체 테스트

[INTEGRATION_TEST_GUIDE.md](./INTEGRATION_TEST_GUIDE.md) 참조

---

## 🛠️ 빌드

```bash
# 프로덕션 빌드
npm run build

# 빌드 미리보기
npm run preview
```

---

## 📝 라이선스

MIT License

---

## 🤝 기여

이슈와 PR을 환영합니다!

---

## 💬 지원

문제가 발생하면:
1. [Issues](https://github.com/your-username/scriptstudio/issues)에 등록
2. [문서](./HYBRID_MODE_GUIDE.md) 확인
3. app@base44.com으로 문의

---

**Made with ❤️ by ScriptStudio Team**